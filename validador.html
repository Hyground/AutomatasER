<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automatas - Validador de ER</title>
    <!-- CSS Moderno -->
    <!-- Rutas relativas a la carpeta 'design' -->
    <link rel="stylesheet" href="design/page.css">
    <link rel="stylesheet" href="design/ui.css">
    <link rel="stylesheet" href="design/automata.css">
    <!-- Vis.js Network CSS (Necesario para mantener la consistencia en el dise帽o) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/10.0.2/dist/vis-network.min.css">
</head>
<body>
    
    <!-- 2. CONTENIDO PRINCIPAL DE LA APLICACIN -->
    <div id="app-content" style="opacity: 1;">
        <header>
            <nav>
                <ul>
                    <li><a href="index.html" id="menu-afd">AFD Directo</a></li>
                    <li><a href="afn.html" id="menu-afn">AFN Thompson</a></li>
                    <li><a href="validator.html" id="menu-validator" class="active">Validador de Cadena</a></li>
                </ul>
            </nav>
            <!-- Bot贸n de Modo Oscuro/Claro -->
            <button id="theme-toggle-btn" aria-label="Toggle dark mode"></button>
        </header>

        <main>
            <h1>Validador de Cadenas por Expresi贸n Regular</h1>
            <p class="text-muted">Utiliza el m茅todo de conversi贸n Directa (rbol + Followpos) para generar un AFD y validar si la cadena pertenece al lenguaje.</p>

            <div class="validator-controls afd-controls">
                <div class="input-group">
                    <label for="regex-input">Expresi贸n Regular (ER):</label>
                    <input type="text" id="regex-input" placeholder="Ej: (a|b)*abb">
                </div>
                
                <div class="input-group">
                    <label for="input-text">Cadena de Caracteres a Validar:</label>
                    <textarea id="input-text" rows="3" placeholder="Ingresa la cadena de prueba (ej: ababba)"></textarea>
                </div>

                <!-- Bot贸n con estilos en l铆nea para un aspecto de "acci贸n principal" -->
                <button id="validate-btn" class="main-start-btn" style="
                    background: linear-gradient(145deg, var(--color-primary), #004d99); 
                    color: white; 
                    font-weight: bold; 
                    padding: 12px 25px; 
                    border-radius: 8px; 
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    transition: all 0.2s ease-in-out;
                    border: none;
                    cursor: pointer;
                " onmouseover="this.style.boxShadow='0 6px 8px rgba(0, 0, 0, 0.2)'" onmouseout="this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.1)'">
                    Validar Cadena con AFD
                </button>
            </div>
            
            <!-- Contenedor para el resultado de la validaci贸n de la ER -->
            <div id="validation-result" class="result-box" style="margin-top: 20px; display: none;">
                <!-- El resultado VLIDO/INVLIDO se inyectar谩 aqu铆 -->
            </div>

            <div id="results-container" style="display: none;">
                <h2 style="margin-top: 30px;">Detalles del AFD generado</h2>
                <div id="dfa-diagram">
                    <!-- Diagrama de Vis.js del AFD inyectado aqu铆 -->
                </div>
                
                <h2 style="margin-top: 30px;">Recorrido del Validador</h2>
                <div id="validation-path">
                    <!-- Tabla de pasos de validaci贸n inyectada aqu铆 -->
                </div>

                <h2 style="margin-top: 30px;">An谩lisis de Cadenas de Ejemplo</h2>
                <!-- Nueva tabla con ejemplos de cadenas generadas por la ER -->
                <div id="example-chain-analysis"></div>
            </div>

        </main>

        <footer>
            <p>&copy; 2025 Aut贸matas y Lenguajes Formales - Proyecto Miguel y Carlos</p>
        </footer>
    </div>
    
    <!-- Scripts: Rutas ajustadas seg煤n la imagen de estructura -->
    <script type="module" src="logic/directo-afd.js"></script>
    <script type="module" src="logic/followpos.js"></script>
    <script type="module" src="scripts/validator-logic.js"></script>
    <!-- Importante: Vis.js para el diagrama del AFD -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/10.0.2/dist/vis-network.min.js"></script>
</body>
</html>